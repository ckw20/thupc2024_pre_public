\frame
{
  \frametitle{C 前缀和 {by \itshape Elegia}}

  有一个 \texttt{0} 到 \texttt{1} 之间的实数 $p$，接下来生成 $n$ 个随机数，随机方式如下:\\
  每个 $x_i$ 独立生成，有 $p$ 的概率是 \texttt{1}，$(1-p)p$ 的概率是 \texttt{2}，以此类推.\\
  给定 $1\le l\le r\le n$，问序列 $\{x_i\}$ 的前缀和序列 $\{y_i\}$ 中，期望有多少个数落在 $[l, r]$ 之间?

}


\frame
{
    \frametitle{问题转化}

	考虑有无穷多个灯，编号从 \texttt{1} 开始一字排开，每个灯独立有 $p$ 的概率亮起，$1-p$ 的概率是灭的. \pause

	我们从左往右数，第一次找到一个灯的编号，这就是 $x_i$ 的分布，所以序列 $\{y_i\}$ 就是第 $i$ 个亮起的灯的位置. \pause

	所以问题就是在问：$[l, r]$ 之间，期望有多少亮起的灯？\pause

   	答案就是 $(r-l+1)p$.
}
